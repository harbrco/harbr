!function($){$.fn.blockScroll=function(o){function n(){$(window).on("scroll",function(){var o=$(window).scrollTop(),n=$(window).height(),i=0;u.each(function(t){var e=$(this),a=e.offset().top,r=Math.abs(o-a);n>r&&(i=t,n=r)}),e(i)},250),$(window).resize(function(){c()}),$("#block-up-arrow").click(function(){i()}),$("#block-down-arrow").click(function(){t()}),$(document).keydown(function(o){return 37===o.keyCode||38===o.keyCode?(i(),!1):39===o.keyCode||40===o.keyCode?(t(),!1):void 0}),$(window).bind("mousewheel",function(o){o.originalEvent.wheelDelta>119?i():o.originalEvent.wheelDelta<-119&&t()})}function i(){f>0&&!v&&e(f-1)}function t(){g-1>f&&!v&&e(f+1)}function e(o){0===o?$("#block-up-arrow").hide():$("#block-up-arrow").show(),o===g-1?$("#block-down-arrow").hide():$("#block-down-arrow").show(),f=o,v=!0,$("html, body").animate({scrollTop:$(u[f]).offset().top},l.scrollDuration,"linear",function(){$(u[f]).animate({opacity:1},l.fadeDuration,"linear",function(){setTimeout(function(){v=!1,k=$(window).scrollTop()},50)})}),a()}function a(){p=g-1>f?$(u[f+1]).offset().top:-1,w=f>0?$(u[f-1]).offset().top:-1}function r(){s=$(window).height(),d=s*l.paddingRatio,h=s*l.triggerRatio}function c(){r(),u.each(function(o){var n=$(this);if(n.height("auto"),n.height()<s){var i=s/2-n.height()/2;n.height(s-i),n.css("padding-top",i+"px")}}),e(f)}var l=$.extend({startDiv:1,fadeDuration:"slow",paddingRatio:.05,triggerRatio:.005,scrollDuration:"fast",fadeBlocks:!0},o);l.triggerRatio>.95*l.paddingRatio&&(l.triggerRatio=.95*l.paddingRatio);var u=this.children().filter("article"),f=l.startDiv-1,s,d,h,p,w,g=u.length,k,v=!1;l.fadeBlocks&&this.children().each(function(){$(this).css("opacity","0")}),$(u[f]).animate({opacity:1},l.fadeDuration,"linear",function(){$(window).scrollTop(0),a(),n(),k=$(window).scrollTop()});var y=function(o){e(o-1)};return c(),{"goto":y}}}(jQuery),function($){var o=$.fn.on,n;$.fn.on=function(){var i=Array.apply(null,arguments),t=i[i.length-1];if(isNaN(t)||1===t&&i.pop())return o.apply(this,i);var e=i.pop(),a=i.pop();return i.push(function(){var o=this,i=arguments;clearTimeout(n),n=setTimeout(function(){a.apply(o,i)},e)}),o.apply(this,i)}}(this.jQuery||this.Zepto);